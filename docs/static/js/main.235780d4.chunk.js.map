{"version":3,"sources":["redux/types.js","redux/reducers/housing.js","redux/reducers/companies.js","redux/reducers/clients.js","redux/reducers/options.js","redux/reduser.js","redux/store.js","components/App/style.js","components/CompanyPanel/style.js","utils/service.js","redux/actions/companies.js","redux/actions/housing.js","redux/actions/options.js","components/CompanyPanel/index.js","components/CompanyPanel/container.js","components/HousingTreeList/style.js","components/ClientsList/style.js","redux/actions/clients.js","utils/handlers.js","components/ClientsList/index.js","components/ClientsList/container.js","components/HousingTreeList/index.js","components/HousingTreeList/container.js","components/NavTop/style.js","components/NavTop/index.js","components/NavTop/container.js","components/App/index.js","index.js"],"names":["COMPANIES_REQUEST","COMPANIES_SUCCESS","COMPANIES_FAILURE","HOUSING_REQUEST","HOUSING_SUCCESS","HOUSING_FAILURE","CLIENT_ADD","CLIENT_DELETE","CLIENT_REQUEST","CLIENT_FAILURE","OPTION_MENU_OPEN","OPTION_SET_COMPANY","OPTION_CLIENT_PANEL","OPTION_SET_FLAT","initialState","data","dataOriginal","loading","error","menuOpen","curCompany","curFlat","clientPanel","combineReducers","housing","state","action","type","payload","companies","clients","options","store","createStore","reducer","applyMiddleware","thunk","useStyles","makeStyles","theme","root","display","minHeight","drawerWidth","drawerHeader","alignItems","padding","spacing","mixins","toolbar","justifyContent","textAlign","title","fontSize","margin","drawer","width","flexShrink","drawerPaper","list","loader","config","process","get","extraUrl","callbackSuccess","callbackError","a","axios","then","response","status","catch","err","post","put","del","delete","getCompaniesList","dispatch","Service","companiesLoaded","companiesError","getHousingList","companyId","housingLoaded","dataArr","result","streetName","building","flat","addressId","houseId","streetId","id","name","parent","Array","from","Set","map","JSON","stringify","parse","LTT","key_id","key_parent","GetTree","getTreeFormat","housingError","menu","containerCompanyPanel","Wrapped","props","useSelector","useDispatch","useEffect","handleDrawerClose","allProp","loadHousing","classes","Drawer","className","variant","anchor","open","paper","IconButton","onClick","Divider","List","component","length","item","ListItem","button","ListItemText","primary","CircularProgress","color","content","flexGrow","transition","transitions","create","easing","sharp","duration","leavingScreen","marginLeft","breakpoints","down","contentShift","easeOut","enteringScreen","contentWrapper","flexWrap","height","tree","paddingRight","maxWidth","overflow","marginBottom","minWidth","borderLeft","paddingLeft","borderTop","info","borderBottom","clientsList","position","listItem","key","marginRight","itemDelete","right","top","cursor","form","btn","marginTop","clientRequest","clientError","addClientToHousing","clientData","successCallback","deleteClientFromHousing","bindId","Handlers","setSameBlockHeight","block","runByEvent","elements","items","call","e","children","maxHeight","i","removeAttribute","Math","max","offsetHeight","style","callback","events","window","addEventListener","containerClientsList","refLink","useRef","useState","setName","phone","setPhone","email","setEmail","addressInfo","useMemo","filter","current","addClient","noValidate","autoComplete","TextField","required","label","value","onChange","target","Button","Grid","ref","container","client","xs","sm","md","lg","xl","Paper","containerHousingTreeList","chooseFlat","clsx","Backdrop","backdrop","TreeView","defaultExpanded","defaultCollapseIcon","defaultExpandIcon","renderTree","elem","child","TreeItem","nodeId","appBar","background","appBarShift","menuButton","hide","containerNavTop","companyName","curElement","handleDrawerOpen","AppBar","Toolbar","edge","Typography","noWrap","App","CompanyPanel","ReactDOM","render","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.235780d4.chunk.js","sourcesContent":["export const COMPANIES_REQUEST = \"companies/COMPANIES_REQUEST\";\r\nexport const COMPANIES_SUCCESS = \"companies/COMPANIES_SUCCESS\";\r\nexport const COMPANIES_FAILURE = \"companies/COMPANIES_FAILURE\";\r\n\r\nexport const HOUSING_REQUEST = 'housing/HOUSING_REQUEST';\r\nexport const HOUSING_SUCCESS = \"housing/HOUSING_SUCCESS\";\r\nexport const HOUSING_FAILURE = \"housing/HOUSING_FAILURE\";\r\n\r\nexport const CLIENT_ADD = 'clients/CLIENT_ADD';\r\nexport const CLIENT_DELETE = 'clients/CLIENT_DELETE';\r\nexport const CLIENT_REQUEST = 'clients/CLIENT_REQUEST';\r\nexport const CLIENT_FAILURE = 'clients/CLIENT_FAILURE';\r\n\r\nexport const OPTION_MENU_OPEN = 'options/OPTION_MENU_OPEN';\r\nexport const OPTION_SET_COMPANY = 'options/OPTION_SET_COMPANY';\r\nexport const OPTION_CLIENT_PANEL = 'options/OPTION_CLIENT_PANEL';\r\nexport const OPTION_SET_FLAT = 'options/OPTION_SET_FLAT';","import {HOUSING_REQUEST, HOUSING_SUCCESS, HOUSING_FAILURE} from \"../types\";\r\n\r\nconst initialState = {\r\n    data: [],\r\n    dataOriginal: [],\r\n    loading: false,\r\n    error: null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n    const {type, payload} = action;\r\n\r\n    switch (type) {\r\n        case HOUSING_REQUEST:\r\n            return {\r\n                ...state,\r\n                data: [],\r\n                dataOriginal: [],\r\n                loading: true,\r\n                error: null\r\n            };\r\n        case HOUSING_SUCCESS:\r\n            return {\r\n                ...state,\r\n                data: payload.data,\r\n                dataOriginal: payload.dataOriginal,\r\n                loading: false,\r\n                error: null\r\n            };\r\n        case HOUSING_FAILURE:\r\n            return {\r\n                ...state,\r\n                data: [],\r\n                dataOriginal: [],\r\n                loading: false,\r\n                error: payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};","import {COMPANIES_REQUEST, COMPANIES_SUCCESS, COMPANIES_FAILURE} from \"../types\";\r\n\r\nconst initialState = {\r\n    data: [],\r\n    loading: true,\r\n    error: null\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n    const {type, payload} = action;\r\n\r\n    switch (type) {\r\n        case COMPANIES_REQUEST:\r\n            return {\r\n                ...state,\r\n                data: [],\r\n                loading: true,\r\n                error: null\r\n            };\r\n        case COMPANIES_SUCCESS:\r\n            return {\r\n                ...state,\r\n                data: payload,\r\n                loading: false,\r\n                error: null\r\n            };\r\n        case COMPANIES_FAILURE:\r\n            return {\r\n                ...state,\r\n                data: [],\r\n                loading: false,\r\n                error: payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};","import {CLIENT_ADD, CLIENT_DELETE, CLIENT_REQUEST, CLIENT_FAILURE} from \"../types\";\r\n\r\nconst initialState = {\r\n    loading: true,\r\n    error: null\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n    const {type, payload} = action;\r\n\r\n    switch (type) {\r\n        case CLIENT_ADD:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: null\r\n            };\r\n        case CLIENT_DELETE:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: null\r\n            };\r\n        case CLIENT_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n                error: null\r\n            };\r\n        case CLIENT_FAILURE:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};","import {OPTION_CLIENT_PANEL, OPTION_MENU_OPEN, OPTION_SET_COMPANY, OPTION_SET_FLAT} from \"../types\";\r\n\r\nconst initialState = {\r\n    menuOpen: true,\r\n    curCompany: null,\r\n    curFlat: null,\r\n    clientPanel: false\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n    const {type, payload} = action;\r\n\r\n    switch (type) {\r\n        case OPTION_MENU_OPEN:\r\n            return {\r\n                ...state,\r\n                menuOpen: payload,\r\n            };\r\n        case OPTION_SET_COMPANY:\r\n            return {\r\n                ...state,\r\n                curCompany: payload,\r\n            };\r\n        case OPTION_CLIENT_PANEL:\r\n            return {\r\n                ...state,\r\n                clientPanel: payload,\r\n            };\r\n        case OPTION_SET_FLAT:\r\n            return {\r\n                ...state,\r\n                curFlat: payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};","import {combineReducers} from \"redux\";\r\nimport housing from \"./reducers/housing\";\r\nimport companies from \"./reducers/companies\";\r\nimport clients from \"./reducers/clients\";\r\nimport options from \"./reducers/options\";\r\n\r\nexport default combineReducers({\r\n    housing,\r\n    companies,\r\n    clients,\r\n    options\r\n});","import {applyMiddleware, createStore} from 'redux';\r\nimport reducer from \"./reduser\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst store = createStore(reducer, applyMiddleware(thunk));\r\n\r\nexport default store;","import {makeStyles} from \"@material-ui/core\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: \"flex\",\r\n        minHeight: \"100vh\"\r\n    }\r\n}));\r\n\r\nexport const drawerWidth = 320;","import {makeStyles} from \"@material-ui/core/styles\";\r\nimport {drawerWidth} from \"../App/style\";\r\n\r\nexport const drawerHeader = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        padding: theme.spacing(0, 1),\r\n        // necessary for content to be below app bar\r\n        ...theme.mixins.toolbar,\r\n        justifyContent: \"space-between\",\r\n        textAlign: \"center\"\r\n    }\r\n}))\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n    title: {\r\n        fontSize: \"1.5rem\",\r\n        margin: 0,\r\n        padding: theme.spacing(0, 1),\r\n    },\r\n    drawer: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n    },\r\n    list: {\r\n        textAlign: \"center\"\r\n    },\r\n    loader: {\r\n        margin: theme.spacing(3)\r\n    }\r\n}))","import axios from 'axios';\r\n\r\nconst config = {\r\n    baseUrl: process.env.REACT_APP_DB_URL\r\n}\r\n\r\nexport default {\r\n    get: async (extraUrl, callbackSuccess, callbackError) => {\r\n        return axios\r\n            .get(config.baseUrl + extraUrl)\r\n            .then(response => {\r\n                if (response && response.status === 200) {\r\n                    callbackSuccess(response)\r\n                }\r\n            })\r\n            .catch(err => {\r\n                callbackError(err)\r\n            })\r\n    },\r\n    post: async (extraUrl, payload, callbackSuccess, callbackError) => {\r\n        return axios\r\n            .post(config.baseUrl + extraUrl, payload)\r\n            .then(response => {\r\n                if (response && response.status === 200) {\r\n                    callbackSuccess(response)\r\n                }\r\n            })\r\n            .catch(err => {\r\n                callbackError(err)\r\n            })\r\n    },\r\n    put: async (extraUrl, payload, callbackSuccess, callbackError) => {\r\n        return axios\r\n            .put(config.baseUrl + extraUrl, payload)\r\n            .then(response => {\r\n                if (response && response.status === 200) {\r\n                    callbackSuccess(response)\r\n                }\r\n            })\r\n            .catch(err => {\r\n                callbackError(err)\r\n            })\r\n    },\r\n    del: async (extraUrl, callbackSuccess, callbackError) => {\r\n        return axios\r\n            .delete(config.baseUrl + extraUrl)\r\n            .then(response => {\r\n                if (response && response.status === 200) {\r\n                    callbackSuccess(response)\r\n                }\r\n            })\r\n            .catch(err => {\r\n                callbackError(err)\r\n            })\r\n    }\r\n}","import {COMPANIES_REQUEST, COMPANIES_SUCCESS, COMPANIES_FAILURE} from \"../types\";\r\nimport Service from \"../../utils/service\";\r\n\r\n\r\nexport const companiesRequest = () => {\r\n    return {\r\n        type: COMPANIES_REQUEST\r\n    }\r\n};\r\nexport const companiesLoaded = (data) => {\r\n    return {\r\n        type: COMPANIES_SUCCESS,\r\n        payload: data\r\n    }\r\n};\r\nexport const companiesError = (error) => {\r\n    return {\r\n        type: COMPANIES_FAILURE,\r\n        payload: error\r\n    }\r\n};\r\n\r\n\r\nexport const getCompaniesList = () => (dispatch) => {\r\n    dispatch(companiesRequest());\r\n    Service.get('Request/companies',\r\n        ({data}) => {\r\n            dispatch(companiesLoaded(data))\r\n        },\r\n        error => {\r\n            dispatch(companiesError(error))\r\n        }\r\n    )\r\n}","import {HOUSING_REQUEST, HOUSING_SUCCESS, HOUSING_FAILURE} from \"../types\";\r\nimport Service from \"../../utils/service\";\r\nimport LTT from \"list-to-tree\";\r\n\r\n\r\nexport const housingRequest = () => {\r\n    return {\r\n        type: HOUSING_REQUEST\r\n    }\r\n};\r\nexport const housingLoaded = (data, dataOriginal) => {\r\n    return {\r\n        type: HOUSING_SUCCESS,\r\n        payload: {data, dataOriginal}\r\n    }\r\n};\r\nexport const housingError = (error) => {\r\n    return {\r\n        type: HOUSING_FAILURE,\r\n        payload: error\r\n    }\r\n}\r\n\r\n\r\nconst getTreeFormat = (dataArr) => {\r\n    let result = [];\r\n    for (let {streetName, building, flat, clients, addressId, houseId, streetId} of dataArr) {\r\n        result = [...result,\r\n            {\r\n                id: streetId,\r\n                name: `Улица ${streetName}`,\r\n                parent: 0\r\n            },\r\n            {\r\n                id: houseId,\r\n                name: `Дом ${building}`,\r\n                parent: streetId\r\n            },\r\n            {\r\n                name: `Квартира ${flat}`,\r\n                parent: houseId,\r\n                addressId,\r\n                clients,\r\n            }\r\n        ]\r\n    }\r\n    result = Array.from(new Set(result.map(JSON.stringify))).map(JSON.parse);\r\n    result = new LTT(result, {\r\n        key_id: 'id',\r\n        key_parent: 'parent'\r\n    });\r\n    result = result.GetTree();\r\n    return result;\r\n}\r\n\r\nexport const getHousingList = (companyId) => (dispatch) => {\r\n    dispatch(housingRequest());\r\n    Service.get(`HousingStock?companyId=${companyId}`,\r\n        ({data}) => {\r\n            dispatch(housingLoaded(getTreeFormat(data), data))\r\n        },\r\n        error => {\r\n            dispatch(housingError(error))\r\n        }\r\n    )\r\n}","import {OPTION_CLIENT_PANEL, OPTION_MENU_OPEN, OPTION_SET_COMPANY, OPTION_SET_FLAT} from \"../types\";\r\n\r\nexport const menu = (payload) => {\r\n    return {\r\n        type: OPTION_MENU_OPEN,\r\n        payload: payload\r\n    }\r\n};\r\nexport const setCurCompany = (payload) => {\r\n    return {\r\n        type: OPTION_SET_COMPANY,\r\n        payload: payload\r\n    }\r\n};\r\nexport const clientPanelShow = (payload) => {\r\n    return {\r\n        type: OPTION_CLIENT_PANEL,\r\n        payload: payload\r\n    }\r\n}\r\nexport const setCurFlat = (payload) => {\r\n    return {\r\n        type: OPTION_SET_FLAT,\r\n        payload: payload\r\n    }\r\n};","import React from 'react';\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport {drawerHeader, useStyles} from \"./style\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport containerCompanyPanel from \"./container\";\r\n\r\n\r\nconst CompanyList = ({menuOpen, data, loadHousing, handleDrawerClose}) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Drawer\r\n            className={classes.drawer}\r\n            variant=\"persistent\"\r\n            anchor=\"left\"\r\n            open={menuOpen}\r\n            classes={{\r\n                paper: classes.drawerPaper,\r\n            }}\r\n        >\r\n            <div className={drawerHeader().root}>\r\n                <h1 className={classes.title}>Список УК</h1>\r\n                <IconButton onClick={handleDrawerClose}>\r\n                    <ChevronLeftIcon/>\r\n                </IconButton>\r\n            </div>\r\n            <Divider/>\r\n            <List component=\"nav\" className={`${classes.list}`} aria-label=\"mailbox folders\">\r\n                {\r\n                    data && data.length\r\n                        ?\r\n                        data.map(item => (\r\n                            <ListItem button key={item.id} onClick={() => loadHousing(item.id)}>\r\n                                <ListItemText primary={item.name}/>\r\n                            </ListItem>\r\n                        ))\r\n                        :\r\n                        <CircularProgress className={`${classes.loader}`} color=\"inherit\"/>\r\n                }\r\n            </List>\r\n        </Drawer>\r\n    )\r\n}\r\n\r\nexport default containerCompanyPanel(CompanyList);","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {useEffect} from \"react\";\r\nimport {getCompaniesList} from \"../../redux/actions/companies\";\r\nimport {getHousingList} from \"../../redux/actions/housing\";\r\nimport {menu, setCurCompany} from \"../../redux/actions/options\";\r\n\r\n\r\nconst containerCompanyPanel = (Wrapped) => (props) => {\r\n    const {companies: {data}, options: {menuOpen, curCompany}} = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getCompaniesList());\r\n    }, []);\r\n\r\n    const loadHousing = (id) => {\r\n        handleDrawerClose();\r\n        if (curCompany !== id) {\r\n            dispatch(getHousingList(id))\r\n            dispatch(setCurCompany(id))\r\n        }\r\n    }\r\n\r\n    const handleDrawerClose = () => {\r\n        dispatch(menu(false));\r\n    };\r\n\r\n    const allProp = {\r\n        ...props,\r\n        menuOpen,\r\n        data,\r\n        loadHousing,\r\n        handleDrawerClose\r\n    }\r\n\r\n    return <Wrapped {...allProp} />;\r\n}\r\n\r\nexport default containerCompanyPanel;","import {makeStyles} from \"@material-ui/core\";\r\nimport {drawerWidth} from \"../App/style\";\r\n\r\nexport const treeWidth = 400;\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n    content: {\r\n        flexGrow: 1,\r\n        padding: theme.spacing(3),\r\n        transition: theme.transitions.create('margin', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        marginLeft: -drawerWidth,\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: theme.spacing(2),\r\n        },\r\n    },\r\n    contentShift: {\r\n        transition: theme.transitions.create('margin', {\r\n            easing: theme.transitions.easing.easeOut,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n        marginLeft: 0,\r\n    },\r\n    contentWrapper: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        flexWrap: \"wrap\",\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: \"100vh\"\r\n        },\r\n    },\r\n    tree: {\r\n        flexGrow: 1,\r\n        flexShrink: 0,\r\n        paddingRight: \"16px !important\",\r\n        maxWidth: treeWidth,\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: \"30%\",\r\n            overflow: \"auto\",\r\n            maxWidth: \"100%\",\r\n            marginBottom: \"20px\"\r\n        },\r\n    }\r\n}));","import {makeStyles} from \"@material-ui/core/styles\";\r\nimport {treeWidth} from \"../HousingTreeList/style\";\r\n\r\nconst baskSize = 40;\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        maxWidth: `calc(100% - ${treeWidth}px)`,\r\n        minWidth: \"280px\",\r\n        minHeight: \"calc(100vh - 88px*2)\",\r\n        borderLeft: \"1px solid lightgrey\",\r\n        paddingLeft: \"16px\",\r\n        flexGrow: 1,\r\n        [theme.breakpoints.down('sm')]: {\r\n            maxWidth: \"100%\",\r\n            borderLeft: 0,\r\n            borderTop: \"1px solid lightgrey\",\r\n            paddingLeft: 0\r\n        },\r\n    },\r\n    info: {\r\n        width: \"100%\",\r\n        padding: theme.spacing(2, 0),\r\n        borderBottom: \"1px solid lightgrey\"\r\n    },\r\n    title: {\r\n        margin: 0\r\n    },\r\n    clientsList: {\r\n        padding: theme.spacing(2, 0),\r\n    },\r\n    paper: {\r\n        position: \"relative\",\r\n        padding: theme.spacing(1),\r\n        paddingRight: baskSize\r\n    },\r\n    listItem: {\r\n        position: \"relative\",\r\n        padding: theme.spacing(0, 1),\r\n    },\r\n    key: {\r\n        flexGrow: 0,\r\n        flexShrink: 0,\r\n        marginRight: 10,\r\n        '& span': {\r\n            fontSize: \"0.9rem\",\r\n            color: \"grey\"\r\n        }\r\n    },\r\n    itemDelete: {\r\n        position: \"absolute\",\r\n        right: 0,\r\n        top: 0,\r\n        width: baskSize,\r\n        height: baskSize,\r\n        cursor: \"pointer\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        '& *': {\r\n            color: \"grey\",\r\n            cursor: \"pointer\",\r\n            fontSize: \"2rem\"\r\n        }\r\n    },\r\n    form: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"center\",\r\n        borderBottom: 0,\r\n        flexWrap: \"wrap\",\r\n        '& *': {\r\n            margin: 5,\r\n            flexGrow: 1,\r\n            maxWidth: 320,\r\n            [theme.breakpoints.down('sm')]: {\r\n                margin: 0,\r\n                marginRight: 5\r\n            },\r\n        }\r\n    },\r\n    btn: {\r\n        maxWidth: \"initial\",\r\n        [theme.breakpoints.down('sm')]: {\r\n            marginTop: 15\r\n        },\r\n    }\r\n}));","import {CLIENT_ADD, CLIENT_DELETE, CLIENT_REQUEST, CLIENT_FAILURE} from \"../types\";\r\nimport Service from \"../../utils/service\";\r\n\r\nexport const clientAdd = () => {\r\n    return {\r\n        type: CLIENT_ADD\r\n    }\r\n};\r\nexport const clientDelete = () => {\r\n    return {\r\n        type: CLIENT_DELETE\r\n    }\r\n};\r\nexport const clientRequest = () => {\r\n    return {\r\n        type: CLIENT_REQUEST\r\n    }\r\n};\r\nexport const clientError = (error) => {\r\n    return {\r\n        type: CLIENT_FAILURE,\r\n        payload: error\r\n    }\r\n};\r\n\r\nexport const addClientToHousing = (clientData, addressId, successCallback) => (dispatch) => {\r\n    dispatch(clientRequest());\r\n    Service.post(\r\n        'HousingStock/client', clientData,\r\n        response => {\r\n            Service.put(\r\n                \"HousingStock/bind_client\",\r\n                {\r\n                    \"AddressId\": addressId,\r\n                    \"ClientId\": response.data.id\r\n                },\r\n                response => {\r\n                    dispatch(clientAdd());\r\n                    successCallback();\r\n                },\r\n                error => {\r\n                    dispatch(clientError(error))\r\n                }\r\n            )\r\n        },\r\n        error => {\r\n            dispatch(clientError(error))\r\n        }\r\n    )\r\n}\r\n\r\nexport const deleteClientFromHousing = (bindId, successCallback) => (dispatch) => {\r\n    dispatch(clientRequest());\r\n    Service.del(\r\n        `HousingStock/bind_client/${bindId}`,\r\n        response => {\r\n            dispatch(clientDelete())\r\n            successCallback()\r\n        },\r\n        error => {\r\n            dispatch(clientError(error))\r\n        }\r\n    )\r\n}","const Handlers = {\r\n    setSameBlockHeight: (block) => {\r\n        Handlers.runByEvent(() => {\r\n            const getElements = (items) => {\r\n                return [].map.call(items, ((e) => {\r\n                    return e.children[0]\r\n                }))\r\n            }\r\n\r\n            let elements;\r\n            elements = getElements(block)\r\n\r\n            let maxHeight = 0;\r\n            for (let i = 0; i < elements.length; ++i) {\r\n                elements[i].removeAttribute(\"style\")\r\n                maxHeight = Math.max(maxHeight, elements[i].offsetHeight);\r\n            }\r\n            for (let i = 0; i < elements.length; ++i) {\r\n                elements[i].style.height = maxHeight + \"px\";\r\n            }\r\n        }, ['resize'])\r\n    },\r\n    runByEvent: (callback, events) => {\r\n        (callback)();\r\n        events.map(e => {\r\n            window.addEventListener(e, () => {\r\n                callback();\r\n            })\r\n        })\r\n    },\r\n}\r\nexport default Handlers;","import React from 'react';\r\nimport {useStyles} from \"./style\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport containerClientsList from \"./container\";\r\n\r\nconst ClientList = ({addressInfo, name, setName, phone, setPhone, email, setEmail, refLink, addClient, itemDelete}) => {\r\n    const classes = useStyles();\r\n\r\n    if (!addressInfo) {\r\n        return null\r\n    }\r\n    return (\r\n        <div className={classes.root}>\r\n            <div className={classes.info}>\r\n                <h3 className={classes.title}>\r\n                    {`ул. ${addressInfo.streetName} ${addressInfo.building}, кв. ${addressInfo.flat}`}\r\n                </h3>\r\n            </div>\r\n            <div>\r\n                <form className={`${classes.info} ${classes.form}`} noValidate autoComplete=\"off\">\r\n                    <TextField required id=\"name\" label=\"name\" value={name} onChange={e => setName(e.target.value)}/>\r\n                    <TextField required id=\"phone\" label=\"phone\" value={phone}\r\n                               onChange={e => setPhone(e.target.value)}/>\r\n                    <TextField required id=\"email\" label=\"email\" value={email}\r\n                               onChange={e => setEmail(e.target.value)}/>\r\n                    <Button variant=\"outlined\" className={classes.btn} onClick={() => addClient(addressInfo.addressId)}>\r\n                        Добавить жильца\r\n                    </Button>\r\n                </form>\r\n                <Grid ref={refLink} className={classes.clientsList} container spacing={3}>\r\n                    {\r\n                        addressInfo.clients.map(client => (\r\n                            <Grid item xs={12} sm={12} md={6} lg={4} xl={3} key={client.id}>\r\n                                <Paper className={classes.paper}>\r\n                                    <span className={classes.itemDelete} onClick={() => itemDelete(client.bindId)}>\r\n                                        <DeleteOutlinedIcon/>\r\n                                    </span>\r\n                                    <List>\r\n                                        <ListItem className={classes.listItem}>\r\n                                            <ListItemText primary=\"name:\" className={classes.key}/>\r\n                                            <ListItemText primary={client.name} className={classes.value}/>\r\n                                        </ListItem>\r\n                                        <ListItem className={classes.listItem}>\r\n                                            <ListItemText primary=\"phone:\" className={classes.key}/>\r\n                                            <ListItemText primary={client.phone} className={classes.value}/>\r\n                                        </ListItem>\r\n                                        <ListItem className={classes.listItem}>\r\n                                            <ListItemText primary=\"e-mail:\" className={classes.key}/>\r\n                                            <ListItemText primary={client.email} className={classes.value}/>\r\n                                        </ListItem>\r\n                                    </List>\r\n                                </Paper>\r\n                            </Grid>\r\n                        ))\r\n                    }\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default containerClientsList(ClientList);","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {useEffect, useMemo, useRef, useState} from \"react\";\r\nimport {addClientToHousing, deleteClientFromHousing} from \"../../redux/actions/clients\";\r\nimport {getHousingList} from \"../../redux/actions/housing\";\r\nimport Handlers from \"../../utils/handlers\";\r\n\r\nconst containerClientsList = (Wrapped) => (props) => {\r\n    const {housing: {dataOriginal}, options: {curFlat, curCompany}} = useSelector(state => state);\r\n    const refLink = useRef(null);\r\n    const dispatch = useDispatch();\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [phone, setPhone] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n\r\n    const addClient = (addressId) => {\r\n        if (name && phone && email) {\r\n            const data = {\r\n                name,\r\n                phone,\r\n                email\r\n            }\r\n            dispatch(addClientToHousing(\r\n                data,\r\n                addressId,\r\n                () => dispatch(getHousingList(curCompany))\r\n                )\r\n            )\r\n            setName(\"\")\r\n            setPhone(\"\")\r\n            setEmail(\"\")\r\n        }\r\n    }\r\n\r\n    const addressInfo = useMemo(() => {\r\n        if (curFlat && dataOriginal.length) {\r\n            return dataOriginal.filter(e => curFlat === e.addressId)[0]\r\n        } else {\r\n            return null;\r\n        }\r\n    }, [curCompany, curFlat, dataOriginal])\r\n\r\n    const itemDelete = (bindId) => {\r\n        dispatch(deleteClientFromHousing(bindId,\r\n            () => dispatch(getHousingList(curCompany)))\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (refLink.current) {\r\n            Handlers.setSameBlockHeight(refLink.current.children);\r\n        }\r\n    }, [addressInfo]);\r\n\r\n    const allProp = {\r\n        ...props,\r\n        addressInfo,\r\n        name,\r\n        setName,\r\n        phone,\r\n        setPhone,\r\n        email,\r\n        setEmail,\r\n        refLink,\r\n        addClient,\r\n        itemDelete\r\n    }\r\n\r\n    return <Wrapped {...allProp} />;\r\n}\r\n\r\nexport default containerClientsList;","import React from 'react';\r\nimport clsx from \"clsx\";\r\nimport './style.js';\r\nimport {useStyles} from \"./style\";\r\nimport {drawerHeader} from \"../CompanyPanel/style\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport TreeView from '@material-ui/lab/TreeView';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport TreeItem from '@material-ui/lab/TreeItem';\r\nimport ClientList from \"../ClientsList\";\r\nimport containerHousingTreeList from \"./container\";\r\n\r\nconst HousingTreeList = ({menuOpen, data, loading, chooseFlat}) => {\r\n    const classes = useStyles();\r\n\r\n    const renderTree = tree => {\r\n        return tree.map(elem => {\r\n            if (!elem.child) {\r\n                return (\r\n                    <TreeItem\r\n                        nodeId={elem.name + elem.id + '_' + elem.parent}\r\n                        label={elem.name}\r\n                        key={elem.name + elem.id + '_' + elem.parent}\r\n                        onClick={() => chooseFlat(elem.addressId)}\r\n                    />\r\n                );\r\n            } else {\r\n                return (\r\n                    <TreeItem\r\n                        nodeId={elem.name + elem.id + '_' + elem.parent}\r\n                        label={elem.name}\r\n                        key={elem.name + elem.id + '_' + elem.parent}\r\n                    >\r\n                        {renderTree(elem.child)}\r\n                    </TreeItem>\r\n                );\r\n            }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <main\r\n            className={clsx(classes.content, {\r\n                [classes.contentShift]: menuOpen,\r\n            })}\r\n        >\r\n            <div className={drawerHeader().root}/>\r\n\r\n            <Backdrop\r\n                className={classes.backdrop}\r\n                open={loading}\r\n            >\r\n                <CircularProgress color=\"inherit\"/>\r\n            </Backdrop>\r\n            <div className={classes.contentWrapper}>\r\n                <TreeView\r\n                    className={classes.tree}\r\n                    defaultExpanded={['0']}\r\n                    defaultCollapseIcon={<ExpandMoreIcon/>}\r\n                    defaultExpandIcon={<ChevronRightIcon/>}\r\n                >\r\n                    {\r\n                        data && data.length > 0\r\n                        &&\r\n                        renderTree(data)\r\n                    }\r\n                </TreeView>\r\n                <ClientList/>\r\n            </div>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default containerHousingTreeList(HousingTreeList);","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {setCurFlat} from \"../../redux/actions/options\";\r\n\r\n\r\nconst containerHousingTreeList = (Wrapped) => (props) => {\r\n    const {options: {menuOpen}, housing: {data, loading}} = useSelector((state) => state);\r\n    const dispatch = useDispatch();\r\n\r\n    const chooseFlat = (addressId) => {\r\n        dispatch(setCurFlat(addressId))\r\n    }\r\n    \r\n    const allProp = {\r\n        ...props,\r\n        menuOpen,\r\n        data,\r\n        loading,\r\n        chooseFlat\r\n    }\r\n\r\n    return <Wrapped {...allProp} />;\r\n}\r\n\r\nexport default containerHousingTreeList;","import {makeStyles} from \"@material-ui/core/styles\";\r\nimport {drawerWidth} from \"../App/style\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n    appBar: {\r\n        background: \"#343a40\",\r\n        transition: theme.transitions.create(['margin', 'width'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n    },\r\n    appBarShift: {\r\n        width: `calc(100% - ${drawerWidth}px)`,\r\n        marginLeft: drawerWidth,\r\n        transition: theme.transitions.create(['margin', 'width'], {\r\n            easing: theme.transitions.easing.easeOut,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    hide: {\r\n        display: 'none',\r\n    }\r\n}));\r\n","import React, {useMemo} from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport clsx from \"clsx\";\r\nimport {useStyles} from \"./style\";\r\nimport containerNavTop from \"./container\";\r\n\r\n\r\nconst NavTop = ({menuOpen, companyName, handleDrawerOpen}) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <AppBar\r\n            position=\"fixed\"\r\n            className={clsx(classes.appBar, {\r\n                [classes.appBarShift]: menuOpen,\r\n            })}\r\n        >\r\n            <Toolbar>\r\n                <IconButton\r\n                    color=\"inherit\"\r\n                    aria-label=\"open drawer\"\r\n                    onClick={handleDrawerOpen}\r\n                    edge=\"start\"\r\n                    className={clsx(classes.menuButton, menuOpen && classes.hide)}\r\n                >\r\n                    <MenuIcon/>\r\n                </IconButton>\r\n                <Typography variant=\"h6\" noWrap>\r\n                    {companyName}\r\n                </Typography>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}\r\n\r\nexport default containerNavTop(NavTop);","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {menu} from \"../../redux/actions/options\";\r\nimport {useMemo} from \"react\";\r\n\r\n\r\nconst containerNavTop = (Wrapped) => (props) => {\r\n    const dispatch = useDispatch();\r\n    const {options: {menuOpen, curCompany}, companies: {data}} = useSelector(state => state);\r\n\r\n    const handleDrawerOpen = () => {\r\n        dispatch(menu(true));\r\n    };\r\n\r\n    const companyName = useMemo(() => {\r\n        let curElement = data.filter(e => e.id === curCompany)\r\n        curElement = curElement[0];\r\n\r\n        if (curElement) {\r\n            return curElement.name\r\n        } else return \"React App\"\r\n\r\n    }, [curCompany])\r\n\r\n    const allProp = {\r\n        ...props,\r\n        menuOpen,\r\n        companyName,\r\n        handleDrawerOpen\r\n    }\r\n\r\n    return <Wrapped {...allProp} />;\r\n}\r\n\r\nexport default containerNavTop;","import React from 'react';\r\nimport CompanyPanel from \"../CompanyPanel\";\r\nimport HousingTreeList from \"../HousingTreeList\";\r\nimport NavTop from \"../NavTop\";\r\nimport {useStyles} from \"./style\";\r\n\r\nconst App = () => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <NavTop/>\r\n            <CompanyPanel/>\r\n            <HousingTreeList/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport store from \"./redux/store\";\nimport {Provider} from 'react-redux';\nimport App from './components/App';\nimport './style';\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <CssBaseline />\n        <App/>\n    </Provider>, document.getElementById('root'));"],"sourceRoot":""}